(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{198:function(e,t,a){},199:function(e,t,a){},202:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(7),r=a.n(c),s=(a(95),a(96),a(234)),l=a(235),i=a(236),m=a(228),d=a(232),u=a(233);a(97);var f=function(e){let{title:t,cases:a,total:n,active:c,isRed:r,...s}=e;return console.log(t,c),o.a.createElement(m.a,{onClick:s.onClick,className:`infoBox ${c&&"infoBox--selected"} ${r&&"infoBox--red"}`},o.a.createElement(d.a,null,o.a.createElement(u.a,{color:"textSecondary",gutterBottom:!0},t),o.a.createElement("h2",{className:"infoBox__cases "+(!r&&"infoBox__cases--green")},a),o.a.createElement(u.a,{className:"infoBox__total",color:"textSecondary"},n," Total")))},h=a(82),v=a(14),p=a.n(v);const E={legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return p()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return p()(e).format("0a")}}}]}};var g=function(e){let{casesType:t}=e;const[a,c]=Object(n.useState)({});return Object(n.useEffect)(()=>{(async()=>{await fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=120").then(e=>e.json()).then(e=>{let a=((e,t)=>{let a,n=[];for(let o in e.cases){if(a){let c={x:o,y:e[t][o]-a};n.push(c)}a=e[t][o]}return n})(e,t);c(a),console.log(a)})})()},[t]),o.a.createElement("div",null,(null===a||void 0===a?void 0:a.length)>0&&o.a.createElement(h.Line,{data:{datasets:[{backgroundColor:"rgba(204, 16, 52, 0.5)",borderColor:"#CC1034",data:a}]},options:E}))};a(198);var b=function(e){let{countries:t}=e;return o.a.createElement("div",{className:"table"},t.map(e=>o.a.createElement("tr",null,o.a.createElement("td",null,e.country),o.a.createElement("td",null,o.a.createElement("strong",null,p()(e.cases).format("0,0"))))))},y=a(237),_=a(238);const w={cases:{hex:"#CC1034",rgb:"rgb(204, 16, 52)",half_op:"rgba(204, 16, 52, 0.5)",multiplier:800},recovered:{hex:"#7dd71d",rgb:"rgb(125, 215, 29)",half_op:"rgba(125, 215, 29, 0.5)",multiplier:1200},deaths:{hex:"#fb4443",rgb:"rgb(251, 68, 67)",half_op:"rgba(251, 68, 67, 0.5)",multiplier:2e3}},x=e=>e?"+"+p()(e).format("0.0a"):"+0";var C=a(239),N=a(240);a(199);var k=function(e){let{countries:t,casesType:a,center:n,zoom:c}=e;return o.a.createElement("div",{className:"map"},o.a.createElement(C.a,{center:n,zoom:c},o.a.createElement(N.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map(e=>o.a.createElement(y.a,{center:[e.countryInfo.lat,e.countryInfo.long],color:w[t].hex,fillColor:w[t].hex,fillOpacity:.4,radius:Math.sqrt(e[t])*w[t].multiplier},o.a.createElement(_.a,null,o.a.createElement("div",{className:"info-container"},o.a.createElement("div",{className:"info-flag",style:{backgroundImage:`url(${e.countryInfo.flag})`}}),o.a.createElement("div",{className:"info-name"},e.country),o.a.createElement("div",{className:"info-confirmed"},"Cases: ",p()(e.cases).format("0,0")),o.a.createElement("div",{className:"info-recovered"},"Recovered: ",p()(e.recovered).format("0,0")),o.a.createElement("div",{className:"info-deaths"},"Deaths: ",p()(e.deaths).format("0,0"))))))}(t,a)))};a(200);var j=()=>{const[e,t]=Object(n.useState)("worldwide"),[a,c]=Object(n.useState)({}),[r,u]=Object(n.useState)([]),[h,v]=Object(n.useState)([]),[E,y]=Object(n.useState)([]),[_,w]=Object(n.useState)("cases"),[C,N]=Object(n.useState)({lat:34.80746,lng:-40.4796}),[j,O]=Object(n.useState)(3);Object(n.useEffect)(()=>{fetch("https://disease.sh/v3/covid-19/all").then(e=>e.json()).then(e=>{c(e)})},[]),Object(n.useEffect)(()=>{(async()=>{fetch("https://disease.sh/v3/covid-19/countries").then(e=>e.json()).then(e=>{const t=e.map(e=>({name:e.country,value:e.countryInfo.iso2}));let a=(e=>{let t=[...e];return t.sort((e,t)=>e.cases>t.cases?-1:1),t})(e);u(t),v(e),y(a)})})()},[]),console.log(_);return o.a.createElement("div",{className:"app"},o.a.createElement("div",{className:"app__left"},o.a.createElement("div",{className:"app__header"},o.a.createElement("h1",null,"COVID-19 Tracker"),o.a.createElement(s.a,{className:"app__dropdown"},o.a.createElement(l.a,{variant:"outlined",value:e,onChange:async e=>{const a=e.target.value,n="worldwide"===a?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/"+a;await fetch(n).then(e=>e.json()).then(e=>{t(a),c(e),N([e.countryInfo.lat,e.countryInfo.long]),O(4)})}},o.a.createElement(i.a,{value:"worldwide"},"Worldwide"),r.map(e=>o.a.createElement(i.a,{value:e.value},e.name))))),o.a.createElement("div",{className:"app__stats"},o.a.createElement(f,{onClick:e=>w("cases"),title:"Coronavirus Cases",isRed:!0,active:"cases"===_,cases:x(a.todayCases),total:p()(a.cases).format("0.0a")}),o.a.createElement(f,{onClick:e=>w("recovered"),title:"Recovered",active:"recovered"===_,cases:x(a.todayRecovered),total:p()(a.recovered).format("0.0a")}),o.a.createElement(f,{onClick:e=>w("deaths"),title:"Deaths",isRed:!0,active:"deaths"===_,cases:x(a.todayDeaths),total:p()(a.deaths).format("0.0a")})),o.a.createElement(k,{countries:h,casesType:_,center:C,zoom:j})),o.a.createElement(m.a,{className:"app__right"},o.a.createElement(d.a,null,o.a.createElement("div",{className:"app__information"},o.a.createElement("h3",null,"Live Cases by Country"),o.a.createElement(b,{countries:E}),o.a.createElement("h3",null,"Worldwide new ",_),o.a.createElement(g,{casesType:_})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()}).catch(e=>{console.error(e.message)})},90:function(e,t,a){e.exports=a(202)},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.b4e59bcd.chunk.js.map